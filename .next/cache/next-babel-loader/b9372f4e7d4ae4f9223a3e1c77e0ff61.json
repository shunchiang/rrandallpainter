{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\n\nvar _jsxFileName = \"C:\\\\Users\\\\meich\\\\Documents\\\\Github Projects\\\\rrandallpainter-site\\\\components\\\\Modal_EditTags.js\",\n    _s = $RefreshSig$();\n\nvar __jsx = React.createElement;\n\nfunction _createForOfIteratorHelper(o, allowArrayLike) { var it; if (typeof Symbol === \"undefined\" || o[Symbol.iterator] == null) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = o[Symbol.iterator](); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it[\"return\"] != null) it[\"return\"](); } finally { if (didErr) throw err; } } }; }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React, { useState, useEffect } from 'react';\nimport axios from \"axios\";\nimport style from \"../sass/EditTags.module.scss\";\nimport { Tags } from \"../utils/tags\";\nexport default function EditTags(props) {\n  _s();\n\n  var _this = this;\n\n  // State Declarations\n  var _useState = useState({}),\n      tags = _useState[0],\n      setTags = _useState[1];\n\n  var id = [props.id]; // Toggling Tags Logic\n\n  function toggleTag(tag) {\n    var newTags = _objectSpread({}, tags);\n\n    console.log(newTags[tag]);\n    if (newTags[tag] === true) delete newTags[tag];else newTags[tag] = true;\n    setTags(newTags);\n    console.log(newTags);\n    console.log(tags);\n  }\n\n  var axiosInstance = axios.create({\n    withCredentials: true\n  });\n\n  function onSubmit(e) {\n    e.preventDefault();\n    var formData = new FormData();\n    console.log(id);\n    formData.append(\"ids\", id);\n    formData.append(\"tags\", JSON.stringify(Object.keys(tags), null, 2));\n\n    var _iterator = _createForOfIteratorHelper(formData.entries()),\n        _step;\n\n    try {\n      for (_iterator.s(); !(_step = _iterator.n()).done;) {\n        var pair = _step.value;\n        console.log(pair[0], pair[1]);\n      }\n    } catch (err) {\n      _iterator.e(err);\n    } finally {\n      _iterator.f();\n    }\n\n    var object = {};\n    formData.forEach(function (value, key) {\n      object[key] = value;\n    });\n    var json = JSON.stringify(object);\n    console.log(json);\n    axiosInstance.put(\"https://sev3k1liw3.execute-api.us-east-1.amazonaws.com/dev/api/tags/update\", json, {\n      headers: {\n        'Content-Type': 'application/json'\n      }\n    }).then(function (res) {\n      console.log(res);\n    })[\"catch\"](function (err) {\n      console.log(err);\n    });\n  }\n\n  return __jsx(React.Fragment, null, __jsx(\"form\", {\n    className: style.Form,\n    onSubmit: onSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 13\n    }\n  }, __jsx(\"div\", {\n    className: style.Body,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 17\n    }\n  }, __jsx(\"div\", {\n    className: style.Title,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 21\n    }\n  }, \"Editing Tags\"), __jsx(\"div\", {\n    className: style.Stage,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 21\n    }\n  }, __jsx(\"div\", {\n    className: style.Tags,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 25\n    }\n  }, __jsx(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 29\n    }\n  }, \"Tags\"), __jsx(\"ul\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 29\n    }\n  }, Tags.map(function (e) {\n    return __jsx(\"li\", {\n      onClick: function onClick() {\n        return toggleTag(e);\n      },\n      style: {\n        color: tags[e] ? \"lightGreen\" : \"white\"\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 37\n      }\n    }, __jsx(\"span\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 37\n      }\n    }, __jsx(\"i\", {\n      className: \"\".concat(style.taggedIcon, \" fas fa-tag\"),\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 41\n      }\n    }), e));\n  }))), __jsx(\"div\", {\n    className: style.ImagePreview,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 25\n    }\n  }, __jsx(\"img\", {\n    src: props.img,\n    alt: \"preview\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 29\n    }\n  }), __jsx(\"div\", {\n    className: style.Id,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 29\n    }\n  }, \"public_id: \", props.id))), __jsx(\"button\", {\n    className: style.Button,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 21\n    }\n  }, \"Confirm\"))));\n}\n\n_s(EditTags, \"SqeAwu5IG00eqv0RQXDovgq+Ghk=\");\n\n_c = EditTags;\n\nvar _c;\n\n$RefreshReg$(_c, \"EditTags\");","map":{"version":3,"sources":["C:/Users/meich/Documents/Github Projects/rrandallpainter-site/components/Modal_EditTags.js"],"names":["React","useState","useEffect","axios","style","Tags","EditTags","props","tags","setTags","id","toggleTag","tag","newTags","console","log","axiosInstance","create","withCredentials","onSubmit","e","preventDefault","formData","FormData","append","JSON","stringify","Object","keys","entries","pair","object","forEach","value","key","json","put","headers","then","res","err","Form","Body","Title","Stage","map","color","taggedIcon","ImagePreview","img","Id","Button"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport axios from \"axios\";\r\nimport style from \"../sass/EditTags.module.scss\";\r\n\r\nimport { Tags } from \"../utils/tags\";\r\n\r\nexport default function EditTags(props) {\r\n\r\n    // State Declarations\r\n    const [tags, setTags] = useState({});\r\n    const id = [props.id]\r\n\r\n    // Toggling Tags Logic\r\n    function toggleTag(tag)\r\n    {\r\n        const newTags = {...tags};\r\n        console.log(newTags[tag])\r\n        if ( newTags[tag] === true ) delete newTags[tag];\r\n        else newTags[tag] = true;\r\n        setTags(newTags);\r\n        console.log(newTags)\r\n        console.log(tags);\r\n    }\r\n\r\n    const axiosInstance = axios.create({\r\n        withCredentials: true,\r\n    });\r\n\r\n    function onSubmit(e)\r\n    {\r\n        e.preventDefault();\r\n\r\n        const formData = new FormData();\r\n        console.log(id);\r\n        formData.append(\"ids\", id);\r\n        formData.append(\"tags\", JSON.stringify(Object.keys(tags), null, 2));\r\n\r\n        for (const pair of formData.entries()) {\r\n            console.log(pair[0], pair[1]);\r\n        }\r\n\r\n        var object = {};\r\n        formData.forEach((value, key) => {object[key] = value});\r\n        var json = JSON.stringify(object);\r\n\r\n        console.log(json)\r\n\r\n        axiosInstance\r\n        .put\r\n        (\r\n            \"https://sev3k1liw3.execute-api.us-east-1.amazonaws.com/dev/api/tags/update\",\r\n            json,\r\n            {\r\n                headers: {\r\n                    'Content-Type' : 'application/json'\r\n                }\r\n            }\r\n        )\r\n        .then\r\n        ((res) => {\r\n            console.log(res);\r\n        })\r\n        .catch((err) => {\r\n            console.log(err);\r\n        });\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <form className={style.Form} onSubmit={onSubmit}>\r\n                <div className={style.Body}>\r\n                    <div className={style.Title}>Editing Tags</div>\r\n                    <div className={style.Stage}>\r\n                        <div className={style.Tags}>\r\n                            <p>Tags</p>\r\n                            <ul>\r\n                                {Tags.map((e) => (\r\n                                    <li onClick={() => toggleTag(e)} style={{color: tags[e] ? \"lightGreen\" : \"white\"}}>\r\n                                    <span>\r\n                                        <i className={`${style.taggedIcon} fas fa-tag`}></i>\r\n                                        {e}\r\n                                    </span>\r\n                                </li>\r\n                                ))}\r\n                            </ul>\r\n                        </div>\r\n                        <div className={style.ImagePreview}>\r\n                            <img src={props.img} alt=\"preview\"/>\r\n                            <div className={style.Id}>public_id: {props.id}</div>\r\n                        </div>\r\n                    </div>\r\n                    <button className={style.Button} >\r\n                        Confirm\r\n                    </button>\r\n                </div>\r\n            </form>\r\n        </>\r\n    )\r\n}"]},"metadata":{},"sourceType":"module"}